<script lang="ts">
	import Nav from "./Nav.svelte";
  export let user : any;
  
</script>


<header class="header">
  <a class="header_logo" href="/">
    <svg class="logo-svg" viewBox="0 0 443 59" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M0.600006 58V0.799994H11.32L37.8 19.36H38.2L64.68 0.799994H75.4V58H62.6V16.8L44.44 28.96V58H31.64V28.96L13.4 16.8V58H0.600006Z" />
      <path d="M81.8156 58L107.576 0.799994H127.336L153.096 58H139.176L133.736 45.92H101.176L95.7356 58H81.8156ZM105.816 35.52H129.096L117.976 10.8H116.936L105.816 35.52Z" />
      <path d="M149.538 29.76V0.799994H219.938V29.76H206.978V11.2H189.538V58H176.738V11.2H162.497V29.76H149.538Z" />
      <path d="M256.956 58.4C247.196 58.4 239.569 55.9733 234.076 51.12C228.636 46.2133 225.916 38.96 225.916 29.36C225.916 19.8133 228.689 12.6133 234.236 7.75999C239.836 2.85333 247.942 0.399994 258.556 0.399994H288.956V10.8H259.436C252.449 10.8 247.276 12.2667 243.916 15.2C240.609 18.1333 238.956 22.8533 238.956 29.36C238.956 35.5467 240.422 40.1333 243.356 43.12C246.289 46.0533 250.582 47.6533 256.236 47.92V25.68H292.076V58.4H256.956ZM268.236 48H279.276V36.08H268.236V48Z" />
      <path d="M298.456 58L324.216 0.799994H343.976L369.736 58H355.816L350.376 45.92H317.816L312.376 58H298.456ZM322.456 35.52H345.736L334.616 10.8H333.576L322.456 35.52Z" />
      <path d="M376.147 58V0.799994H424.067C429.987 0.799994 434.574 2.29333 437.827 5.27999C441.134 8.26666 442.787 12.8 442.787 18.88C442.787 24.0533 441.587 28.1067 439.187 31.04C436.787 33.9733 433.374 35.8133 428.947 36.56L442.147 58H427.587L415.347 36.96H388.947V58H376.147ZM422.547 11.2H388.947V26.48L422.547 26.56C424.894 26.56 426.68 25.9733 427.907 24.8C429.187 23.6267 429.827 21.6533 429.827 18.88C429.827 16.0533 429.187 14.08 427.907 12.96C426.68 11.7867 424.894 11.2 422.547 11.2Z" />
    </svg>
  </a>
  <div class="search">
    <input class="search_input" type="text" placeholder="Search for products">
    <button class="search_btn">
      <svg class="search_icon" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M52.6629 57.1238L34.8193 39.2802C33.2262 40.5548 31.394 41.5638 29.3229 42.3073C27.2518 43.0507 25.0479 43.4225 22.7112 43.4225C16.9227 43.4225 12.0242 41.4183 8.01582 37.4098C4.00527 33.3993 2 28.4998 2 22.7112C2 16.9227 4.00527 12.0232 8.01582 8.01263C12.0242 4.00421 16.9227 2 22.7112 2C28.4998 2 33.3993 4.00421 37.4098 8.01263C41.4183 12.0232 43.4225 16.9227 43.4225 22.7112C43.4225 25.0479 43.0507 27.2518 42.3073 29.3229C41.5638 31.394 40.5548 33.2262 39.2802 34.8193L57.2034 52.7425C57.7876 53.3267 58.0797 54.0436 58.0797 54.8933C58.0797 55.743 57.761 56.4865 57.1238 57.1238C56.5396 57.7079 55.7961 58 54.8933 58C53.9905 58 53.247 57.7079 52.6629 57.1238V57.1238ZM22.7112 37.0498C26.6942 37.0498 30.0802 35.6563 32.8693 32.8693C35.6563 30.0802 37.0498 26.6942 37.0498 22.7112C37.0498 18.7283 35.6563 15.3423 32.8693 12.5532C30.0802 9.76618 26.6942 8.37269 22.7112 8.37269C18.7283 8.37269 15.3423 9.76618 12.5532 12.5532C9.76618 15.3423 8.37269 18.7283 8.37269 22.7112C8.37269 26.6942 9.76618 30.0802 12.5532 32.8693C15.3423 35.6563 18.7283 37.0498 22.7112 37.0498Z" />
      </svg>
    </button>
  </div>

  {#if user?.type == 'buyer'}
  <div class="info">
    <h3 class="info_user">Welcome {user.name}</h3>
    <a href="/orders" class="orders">
      <svg class="orders_icon" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M40.3125 36.5625C40.3125 37.3084 40.0162 38.0238 39.4887 38.5512C38.9613 39.0787 38.2459 39.375 37.5 39.375H22.5C21.7541 39.375 21.0387 39.0787 20.5113 38.5512C19.9838 38.0238 19.6875 37.3084 19.6875 36.5625C19.6875 35.8166 19.9838 35.1012 20.5113 34.5738C21.0387 34.0463 21.7541 33.75 22.5 33.75H37.5C38.2459 33.75 38.9613 34.0463 39.4887 34.5738C40.0162 35.1012 40.3125 35.8166 40.3125 36.5625ZM37.5 24.375H22.5C21.7541 24.375 21.0387 24.6713 20.5113 25.1988C19.9838 25.7262 19.6875 26.4416 19.6875 27.1875C19.6875 27.9334 19.9838 28.6488 20.5113 29.1762C21.0387 29.7037 21.7541 30 22.5 30H37.5C38.2459 30 38.9613 29.7037 39.4887 29.1762C40.0162 28.6488 40.3125 27.9334 40.3125 27.1875C40.3125 26.4416 40.0162 25.7262 39.4887 25.1988C38.9613 24.6713 38.2459 24.375 37.5 24.375ZM51.5625 11.25V50.625C51.5563 51.8663 51.0605 53.055 50.1828 53.9328C49.305 54.8105 48.1163 55.3063 46.875 55.3125H13.125C11.8837 55.3063 10.695 54.8105 9.81724 53.9328C8.9395 53.055 8.44366 51.8663 8.4375 50.625V11.25C8.44366 10.0087 8.9395 8.81999 9.81724 7.94225C10.695 7.0645 11.8837 6.56866 13.125 6.5625H21.2109C22.3465 5.37565 23.7107 4.43108 25.2213 3.78577C26.7318 3.14046 28.3574 2.80777 30 2.80777C31.6426 2.80777 33.2682 3.14046 34.7787 3.78577C36.2893 4.43108 37.6535 5.37565 38.7891 6.5625H46.875C48.1163 6.56866 49.305 7.0645 50.1828 7.94225C51.0605 8.81999 51.5563 10.0087 51.5625 11.25V11.25ZM30 8.4375C28.4211 8.43332 26.894 9.00055 25.7007 10.0345C24.5074 11.0684 23.7285 12.4991 23.5078 14.0625H36.4922C36.2715 12.4991 35.4926 11.0684 34.2993 10.0345C33.106 9.00055 31.5789 8.43332 30 8.4375V8.4375ZM45.9375 12.1875H41.8594C42.0752 13.1095 42.1853 14.0531 42.1875 15V16.875C42.1875 17.6209 41.8912 18.3363 41.3637 18.8637C40.8363 19.3912 40.1209 19.6875 39.375 19.6875H20.625C19.8791 19.6875 19.1637 19.3912 18.6363 18.8637C18.1088 18.3363 17.8125 17.6209 17.8125 16.875V15C17.8147 14.0531 17.9248 13.1095 18.1406 12.1875H14.0625V49.6875H45.9375V12.1875Z" />
      </svg>
    </a>
    <a href="/cart" class="cart">
      <svg class="cart_icon" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M42.5 45C39.725 45 37.5 47.225 37.5 50C37.5 51.3261 38.0268 52.5979 38.9645 53.5355C39.9021 54.4732 41.1739 55 42.5 55C43.8261 55 45.0979 54.4732 46.0355 53.5355C46.9732 52.5979 47.5 51.3261 47.5 50C47.5 48.6739 46.9732 47.4021 46.0355 46.4645C45.0979 45.5268 43.8261 45 42.5 45ZM2.5 5V10H7.5L16.5 28.975L13.1 35.1C12.725 35.8 12.5 36.625 12.5 37.5C12.5 38.8261 13.0268 40.0979 13.9645 41.0355C14.9021 41.9732 16.1739 42.5 17.5 42.5H47.5V37.5H18.55C18.3842 37.5 18.2253 37.4342 18.1081 37.3169C17.9908 37.1997 17.925 37.0408 17.925 36.875C17.925 36.75 17.95 36.65 18 36.575L20.25 32.5H38.875C40.75 32.5 42.4 31.45 43.25 29.925L52.2 13.75C52.375 13.35 52.5 12.925 52.5 12.5C52.5 11.837 52.2366 11.2011 51.7678 10.7322C51.2989 10.2634 50.663 10 50 10H13.025L10.675 5M17.5 45C14.725 45 12.5 47.225 12.5 50C12.5 51.3261 13.0268 52.5979 13.9645 53.5355C14.9021 54.4732 16.1739 55 17.5 55C18.8261 55 20.0979 54.4732 21.0355 53.5355C21.9732 52.5979 22.5 51.3261 22.5 50C22.5 48.6739 21.9732 47.4021 21.0355 46.4645C20.0979 45.5268 18.8261 45 17.5 45Z" />
      </svg>
    </a>
  </div>
  {:else if user?.type == "seller"}
  <a class="login-btn" href="/seller">Dashboard</a>
  {:else if user?.type == "admin"}
  <a class="login-btn" href="/admin">Dashboard</a>
  {:else}
  <a class="login-btn" href="/login?redirectTo=/">login</a>
  {/if}
</header>

<Nav/>

<style lang="scss">
  .header{
    width: 100%;
    display: flex; 
    justify-content: space-between;
    align-items: center;
    padding: 24px 24px;
    gap: 40px;

    &_logo{
      display: block;
    }
  }

  .logo-svg{
    width: 200px;
    fill: var(--color-4);
  }
  .search{
    display: flex;
    border: 2px solid #bbb;
    width: clamp(200px,100%,700px);
    border-radius: 8px;
    overflow: hidden;
    &_input{
      flex-basis: 100%;
      padding: 8px 16px;
      background-color: transparent;
      outline: none;
      border: none;
      flex-shrink: 1;
      font-size: 16px;
    }
    &_btn{
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: var(--color-3);
      flex-shrink: 0;
      flex-grow: 0;
      padding: 8px 12px;
    }
    &_icon{
      width: 24px;
      fill: white;
    }
  }

  .info{
    display: flex;
    gap: 20px;
    align-items: center;

    &_user{
      font-size: 16px;
      text-transform: capitalize;
      color: #333;
    }
    
  }

  .cart, .orders{
    display: block;
    &_icon{
      width: 28px;
      fill: black;
    }
    &:hover{
      scale: 1.2;
      transition: scale .1s linear;
    }
  }

  .login-btn{
    text-transform: uppercase;
    letter-spacing: 0px;
    background-color: var(--color-3);
    color: white;
    padding: 12px 32px;
    border-radius: 8px;
    font-size: 14px;
    
  }

</style>